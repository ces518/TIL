# 30장 데이터베이스는 세부사항이다

## 3색 볼펜 스터디
- 빨강 : 매우 중요하다 생각하는 부분
- 파랑 : 중요하다 생각하는 부분
- 초록 : 흥미로운 부분

## 관계형 데이터베이스
- 관계형 데이터베이스의 기술이 얼마나 뛰어나든 결국 기술일 뿐이다
- 이는 관계형 데이터베이스가 세부사항임을 의미한다
- 관계형 테이블은 특정 형식의 데이터에 접근하는 경우에는 편리하지만, 데이터를 테이블에 행 단위로 배치한다는 사실은 아키텍쳐적으로 볼때 전혀 중요하지 않다
- 유스케이스는 이를 알아서도, 관여해서도 안된다
- 데이터가 테이블 구조를 가진다는 것은 오직 아키텍쳐 내부의 원에 위치한 최하위 수준 유틸리티레벨에서만 알야아 한다

## 데이터베이스 시스템은 왜 이렇게 널리 사용되는가 ?
- RDMBS 가 우위를 차지할 수 잇었던 이유는 "디스크" 때문이었다
- 반시게 동안 회전식 자기 디스크는 데이터 저장소의 중심이었다
- 여러 세대의 프로그래머가 다른 형태의 데이터 저장소도 있다는 사실조차 모를 정도 였다
- 디스크에서는 데이터는 원형 트랙에 저장된다
- 트랙은 섹터로 분할되고, 각 섹터는 대체로 4K 단위로 젖아하게 되었다
- 각 플래터는 수백개의 트랙으로 구성되고, 디스크는 십여개의 플래터로 구성되었다
- 디스크에서 특정 바이트를 읽으려면 헤드를 움직이며 작업을 시작한다
- 이 모든 작업에는 밀리초 단위의 시간이 걸린다
- 밀리초가 길지 않을수 있지만, 대다수의 프로세서에서 한 명령을 처리하는 주기와 비교하면 백만배나 오래 걸렸다
- 이런 디스크 때문에 피할수 없었던 "지연" 을 처리하기 위해 색인, 캐시, 쿼리 계획 최적화가 필요해졌다
- 그리고 데이터를 표현하는 표준적인 방식도 필요해 졌다
- 시간이 지나며 이런 시스템은 뚜렷이 구분되는 두 가지 유혀으로 분리되었다
- 하나는 파일시스템, 하나는 RDBMS 였다

## 디스크가 없다면 어떻게 될까 ?
- 디스크가 모두 사라진다면 데이터를 어떻게 체계화할 것인가 ?
- 데이터를 테이블 구조로 만들어 SQL 을 이용해 접근할 것인가 ?
- 이 데이터 들을 무수히 많은 데이터 구조로 체계화할 것이며, 데이터 접근시 포인터나 참조를 할 것이다
- 이것이 개발자가 하는 일이다

## 세부사항
- 데이터베이스는 그저 메커니즘에 불가하며, 디스크 표면과 RAM 사이에서 데이터를 이리저리 옮길때 사용할 뿐이다
- 데이터베이스는 비트를 담는 거대한 그릇이며, 데이터를 장기적으로 저장하는 공간에 지나지 않는다
- 아키텍쳐관점에서 디스크에 데이터가 있기만 ㅎ나다면 RDBMS 를 사용하던 말던 신경써서는 안된다

## 하지만 성능은 ?
- 데이터 저장소 측면에서 성능은 완전히 캡슐화하여 업무 규칙과는 분리 가능한 관심시이다
- 데이터 저장소에서 데이터를 빠르게 넣고 뺄 수 있어야 하는것은 맞지만 이는 저수준의 관심사이다
- 성능은 시스템 전반 아키텍쳐와 관계 없다

## 결론
- 체계화된 데이터가 구조와 데이터 모델은 아키텍쳐적으로 중요하다
- 하지만 RDMBS 는 아키텍쳐적으로 중요하지 않다. 데이터베이스는 세부사항이다