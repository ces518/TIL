# 15장 아키텍쳐

## 3색 볼펜 스터디
- 빨강 : 매우 중요하다 생각하는 부분
- 파랑 : 중요하다 생각하는 부분
- 초록 : 흥미로운 부분

## 개요
- 아키텍쳐란 단어는 중대한 결정과 심도 있는 기술적 기량을 떠올리게 한다
- 소프트웨어 아키텍쳐는 기술적 성취의 정점에 서 있다
- 소프트웨어 아키텍트는 무슨일을 하며 언제 그 일을 하는가
- 소프트웨어 아키엑트는 개발자이며, 앞으로도 계속 개발자로 남는다
- 코드에서 탈피하여 고수준의 문제에 집중해야 한다는 거짓말에 속아선 안된다
- 아키텍트는 코드와 동떨어져서는 안된다
- 아키텍트는 앞으로고 계속 개발뿐 아니라 동시에 나머지 팀원들이 생산성을 극대화할 수 있는 설계를 하도록 방향을 이끌어 준다
- 아키텍처의 주된 목적은 시스템의 생명 주기를 지원하는 것
- 시스템을 쉽게 이해하고, 쉽게 개발하며, 쉽게 유지보수 및 배포가 가능하도록 해준다
- 아키텍처의 궁극적인 목표 => 시스템 수명과 관련된 비용을 최소화하고 개발자의 생산성을 최대화 한다

## 개발
- 시스템 아키텍처는 개발팀이 시스템을 쉽게 개발 가능하도록 뒷받침해야만 한다
- 팀 구조가 다르다면 아키텍쳐 관련 결정에서도 차이가 난다
  - 모놀리틱, 컴포넌트 단위 등..
- 팀별 단일 컴포넌트 아키텍쳐가 시스템 배포/운영/유지보수시 최적일 가능성은 거의 없다
- 순전히 일정에만 쫓겨 일한다면 결국 이 아키텍쳐로 귀착된다

## 배포
- 배포는 비용이 높을수록 시스템 유용성이 떨어진다
- 소프트웨어 아키텍쳐는 시스템을 단 한 번에 쉽게 배포가능하도록 만드는 데 그 목표를 두어야 한다
- 초기 개발 단계에서는 배포 전략을 거의 고려하지 않는다
- 때문에 개발은 쉽지만 배포는 상당히 힘든 아키텍쳐가 만들어진다

## 운영
- 아키텍쳐가 시스템 운영에 미치는 영향은 개발/배포/유지보수에 비해 덜 극적이다
- 운영에서 겪는 대다수 어려움은 단순히 하드웨어를 더 투입해 해결이 가능하다
- 하드웨어는 싸고 인력은 비싸다는 말의 의미는 운영을 방해하는 아키텍쳐가 개발,배포,유지보수를 방해하는 아키텍쳐보다 비용이 덜 든다는 뜻
- 시스템 아키텍처는 유스케이스, 기능, 시스템의 필수 행위를 일급 엔티티로 격상시키고, 이들 요소가 개발자에게 주요 목표로 인식되도록 해야 한다
- 이를 통해 시스템을 이해하기 쉬워지며, 따라서 개발과 유지보수에 큰 도움이 된다

## 유지보수
- 유지보스는 모든 측면에서 봤을 때 소프트웨어 시스템에서 비용이 가장 많이든다
- 유지보수의 가장 큰 비용인 탐사와 이로 인한 위험 부담이다
- 탐사 ? => 기존 소프트웨어에 새로운 기능 추가/결함 수정시 소프트웨어를 파헤쳐 어디를 고치는게 최선인지 어떤 전략을 쓰는게 최적일지 결정하는데 드는 비용
- 변경사항 반영시 의도치 않는 결함이 발생할 가능성은 항상 존재하며, 이로 인해 위험부담 비용이 추가된다

## 선택사항 열어두기
- 소프트웨어는 두 가지 가치, 즉 행위적 가치와 구조적 가치를 지닌다
- 이중 두 번째 가치가 더 중요한데, 소프트웨어를 부드럽게 만드는 것은 이 구조적 가치이기 때문이다
- 소프트웨어를 만든 이유 => 기계의 행위를 빠르게 쉽게 변경하는 방법이 필요 
- 소프트웨어를 부드럽게 유지하는 방법 => 선택사항을 가능한 많이, 오래 열어두는 것
  - 열어 둬야할 선택사항 => 중요치 않은 세부사항
- 모든 소프트웨어 시스템은 두 가지 구성요소로 분해 가능하다
  - 정책
  - 세부사항
- 아키텍트의 목표 => 시스템에서 정책을 가장 핵심요소로 식별하고, 동시에 세부사항은 정책에 무관하게 만들수 있는 형태의 시스템을 구축하는데 있다
  - 이를 통해 세부사항 결정은 미루거나 연기가 가능함
- 선택사항을 더 오랫동안 열어 둘 수 있다면 더 많은 실험을 하고, 더 많은 것을 시도할 수 있다
- 좋은 아키텍트는 결정되지 않은 사항의 수를 최대화 한다

## 결론
- 좋은 아키텍트는 세부사항을 정책으로부터 신중하게 가려내고, 정책이 세부사항과 결합되지 않도록 엄격하게 분리한다
- 이를 통해 정책은 세부사항에 대한 어떤 지식도 갖지 않으며 어떤 경우에도 세부사항에 의존하지 않는다