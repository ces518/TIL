# The Practice of Programming

## 1. 스타일
- 스타일의 목적은 읽기 좋은 코드를 만드는 것이다.
- 좋은 스타일은 좋은 프로그래밍에 결정적인 역할을 한다.
- 예전에 비해 최근의 프로그래밍을 잘한다는 기준은 많이 변화되었다.
- 이전에는 복잡하고 남들이 알아보기 힘들게 만들수록 잘한다 라는 느낌을 받았지만 요즘은 그렇지 않다.
- 읽기 쉬운 코드, 알아보기 쉬운 코드를 짜는 것이 프로그래밍을 잘한다의 기준이 되었다.

### 1-1. 네이밍
- 변수나 함수의 이름은 각 객체들을 구분 짓고 목적에 관한 정보를 전달한다.
- 이는 정보 면에서 유익함과 동시에 간결해야 하며 기억하기 쉬워야 한다.
- 문맥과 유효범위 (scope) 에서 많은 정보를 얻을 수 있고, 유효범위가 높을수록 이름은 더 많은 정보를 전달해야 한다.

`전역변수는 서술적인 이름을, 지역변수는 간결한 이름을 사용하라`
- **전역 변수** 는 유효범위가 크기 때문에 어디서든 사용될 여지가 있다.
- 가능하다면 해당 의미를 서술적으로 전달하는 것이 좋다.
- 필요에 따라 간단한 주석을 달아주는 것도 좋다.
- **지역 변수** 는 짧은 이름을 써도 충분하다.
- 관례로 많이 사용하는 경우에는 축약어를 사용해 주어도 좋다.
- 하지만 지나치게 축약어를 남용하는 경우에는 오히려 역효과를 부른다.

> 명명규칙과 지역적 관례는 다양하다.
> 
> 명명규칙을 준수하면 본인의 코드 또는 다른 사람의 코드도 쉽게 이해할 수 있다.

`일관성을 지켜라`
- 서로 관련이 있는 것들에는 연관된 이름을 붙여 상관관계를 보여줌과 동시에 차이점이 눈에 띄도록 해야한다.

```java
class UserQueue {
    int noOfItemInQ;
    int frontOfTheQueue;
    int queueCapacity;
    // ...
}
```
- 위와 같은 코드의 경우 queue 라는 이름이 불필요하게 중복되고 있다.
- 해당 지역변수는 userQueue 인스턴스를 통해서만 접근이 가능한데, 만약 사용한다면 다음과 같을 것이다.

```java
queue.queueCapacity;

// 개선된 버전
queue.capacity;
```

> 추가적으로 1명이 작성한 코드인데 파일마다 작성하는 방식이 다르다거나, 심한경우 각 함수마다 스타일이 전혀 다른 경우가 있다.
> 
> 이는 코드를 읽는 이로 하여금 혼란을 줄 수 있다.

`함수 명은 능동형을 사용하라`
- 함수 명에는 **능동형 동사** 를 써야하며 명사가 따라올 수 있다.
- 예를 들어 특정 조건을 만족하는지 확인한 후 논리값을 반환하는 함수의 경우 check~~ 보단 is~~~ 로 명확하게 논리값을 반환함을 알려주는 것이 좋다.

`정확한 이름을 사용하라`
- 잘못된 이름을 사용한다면 코드를 보는사람에게 잘못된 정보를 전달할뿐 아니라 예상치 못한 버그를 만들 수 있다.
- 함수의 이름과 동작이 일치해야한다.

### 1-2. 표현식과 문장
- 표현식과 문장도 의미를 최대한 드러내야 한다.
- 제대로 동작하는 가장 명료한 코드를 작성하라.
- 연산 단위가 눈에 잘 띄도록 연산자 주변에는 공백을 주어야 한다.

`들여쓰기로 구조를 알아보기 쉽게 하라`
- 일관성 있는 들여쓰기로 알아보기 쉽게 해야한다.
- IDE 에서 들여쓰기는 일반적으로 4 space(1 tab) 를 많이 사용한다.

`표현식을 자연스럽게 사용하라`
- 표현식을 말하는것 처럼 자연스럽게 사용해야 한다.
- 부정을 포함하는 조건식은 이해하기 힘들게 만든다.
- 가능하다면 부정문을 제거하라

`괄호를 사용해 애매함을 해소하라`
- 괄호는 연산에서 의미 단위를 명확하게 해준다.
- 의도를 분명히 하게 위해 사용해주면 도움이 된다.
- 연산자 우선순위와 상관없이 가독성을 위해 필요하다면 괄호를 사용하라.

`복잡한 표현을 잘게 쪼개라`
- C, C++, 자바는 표현식을 사용하는 문법과 연산자가 많아 한 문장안에 지나치게 많은 것을 집어넣는 일이 많다.
- 코드라인 줄이는것이 중요한게 아니다.
- 오히려 짧은 코드가 가독성을 해친다면 여러줄로 쪼개어야 한다.

`명료하게 사용하라`
- 간결하고 멋진 코드를 작성하는게 중요한게 아니다. **명료한 코드**를 사용하는 것이다.
- 명료성과 간결성을 동일하지 않다.
- 명료한 코드는 대게 짧은 편이지만, 조건식을 if-else 문을 사용해 풀어 쓰는 것 처럼 오히려 긴 코드가 명료한 경우도 존재한다.

> 코드 라인 수가 아닌 얼마나 이해하기 쉬운지가 기준이 되어야 한다.

`부수효과를 조심하라`
- ++ 와 같은 연산자는 값을 반환하는것 외에도 변수값 자체를 바꾸는 부수효과가 있다.
- 이런 부수효과는 편리하지만 예상치못한 문제를 일으킬 수 있다.
- 해결책은 대개 그렇듯이 코드를 여러 라인으로 쪼개는 것이다.

### 1-3. 일관성과 관용 표현
- 일관성을 유지하는 것은 좋은 프로그램을 만드는 길이다.
- 코드 스타일이 예측할 수 없이 달라지는 경우 동작하기 알아보기 힘들다.

`들여쓰기와 중괄호를 사용하는 스타일은 일관성을 지켜라`
- 들여쓰기와 중고라호는 구조를 쉽게 알 수 있게 한다.
- 중괄호를 꼭 쓸 필요없을 때도 사용 해야할까 ?
    - 이부분은 논쟁이 많다.
    - 가능하다면 중괄호는 반드시 써주는게 일관적이다.

> 본인이 작성하지 않은 코드를 수정할 때는 기존 코드 스타일을 유지하는 것이 좋다. \n
> 코드 수정시 자신의 스타일을 사용하지 않는 것이 좋다. \n
> 코드의 일관성은 개발자 본인의 스타일 보다 더 중요하다.

`일관성을 위해 관용 표현을 사용하라`
- 프로그래밍언어도 관용 표현과 일반적으로 사용하는 상용 표현들이 있다.
- 어떤 언어를 배우더라도 핵심은 이런 관용적인 표현에 익숙해지는 것이다.

`다중결정이 필요한 경우 else-if 를 사용하라`
- 다중 결정이 필요한 경우 보통 if-else if-else 를 엮어 사용한다.
- 중첩된 if 문은 오히려 가독성을 떨어뜨린다.

> 코드를 재활용 하려고 하다 보면 지나치게 꽉 짜인 프로그램이 될 수 있다.

### 1-4. 매크로 함수를 멀리하라.

### 1-5. 매직 넘버
- 매직 넘버란 프로그램 넹서 쓰이는 상수, 배열의 크기 등 여러 특정한 리터럴 값들을 말한다.

`매직 넘버에 이름을 달아라`
- 소스코드에서 0, 1 과 같은 숫자들은 어떤 것을 의미하는지 작성자 외에는 알기 힘들다.
- 각 값들이 어떤 의미를 갖는지 이름을 달아 주어야 한다.

`숫자는 상수로 정의하라`
- C 개발자들은 보통 매직넘버 값을 관리하기 위해 #define 을 사용했다.
- 이런 숫자값들은 const 또는 enum 을 이용한 상수를 선언하라.

`아스키 문자는 숫자 코드 말고 문자 상수로 사용하라`
- 아스키 코드는 숫자 혹은 문자로 사용할 수 있는데, 65 라는 값보다는 'A' 라는 값이 이해하기 더 쉽다.
- 가장 좋은 방법은 표준 라이브러리를 사용하는 것이다.

`언어에서 제공하는 함수를 이용해 객체의 크기를 계산하라`
- 어떤 자료에도 크기를 명시적인 숫자로 사용하지 말고 언어에서 제공하는 함수를 이용해야 한다.
- 자바의 length, size 와 같은 함수가 이런 예이다.
- 이런 객체의 크기도 명시적인 숫자로 사용한다면 매직넘버이다.

### 1-6. 주석
- 주석이 코드만으로 충분히 설명된 것을 반복해서 얘기하거나, 코드 내용과 모순되는 경우 도움이 되지 않는다.
- 좋은 주석은 핵심적인 세부 사항을 간결하게 지적해 이해를 도와야 한다.

`명확한 코드에는 주석을 달지 말라`
- 이런 주석은 모두 삭제해야 한다.
- 잘 지은 변수명과 같이 이미 충분한 정보를 전달하는 경우 의미가 없다.

`함수와 전역 데이터에 주석을 달아라`
- 주석은 유용한 경우가 많다.
- 함수, 정겨변수, 상수 와같이 짤막한 설명이 도움을 주는 곳이라면 어디든 주석을 붙인다.
- 주석이 전역변수에 사용된다면 필요한 경우 역할을 상기시켜줄 수 있다.

`나쁜코드에 대해 설명하지 말고 코드를 새로 짜라`
- 유별난 코드나 헷갈릴수 있는 코드에는 주석을 달아야 한다.
- 하지만 주석이 코드보다 긴 경우 코드를 고칠 필요야 있다는 생각을 해야 한다.

`주석과 코드가 모순되게 하지 말라`
- 대부분의 주석은 코드 작성 당시에는 제대로 맞지만, 프로그램이 변화하며, 주석이 그대로라면 코드와 맞지 않게 된다.
- 불일치 이유가 무엇이든, 주석이 코드와 맞지 않는다면 혼란 스럽고 디버깅이 오래 걸리게 된다.
- 코드를 변경하면 반드시 주석이 정확한지 확인해야 한다.

> 주석은 코드에 일치하는 것이 아닌 코드를 보충하는 것이 되어야 한다.

`혼란스럽게 하지 말고, 명확하게 하라`
- 주석은 도움을 주려고 하는것이 목적이지 방해하는 것이 아니다.
- 코드만으로 이해를 할수 있게, 즉 주석이 필요 없는 코드를 짜는것이 1차적인 목표이다.
- 좋은 코드는 나쁜 코드보다 주석이 적게 필요하다.

### 1-7. 왜 그렇게 귀찮게 구는가 ?
- 잘 짠 코드는 대충 던져놓고 한 번도 정리하지 않은 코드보다 읽기 쉽고 문제도 없다.
- 지저분한 코드는 나쁜 코드다. 읽기 힘든것뿐만이 아닌 잘 망가진다.
- 좋은 스타일이 습관이 되어야 한다.